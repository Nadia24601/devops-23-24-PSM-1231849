# Spring Boot Project with React Frontend - Gradle Configuration

This project aims to convert the basic version of the Tutorial application to use Gradle as the build tool instead of Maven.

## Branch Creation and Initial Setup

1. **Create Branch:**

   Create a new branch named `tut-basic-gradle` in your repository and switch to this branch.

    ```
    git checkout -b tut-basic-gradle
    ```

2. **Project Setup:**

    - Navigate to the `CA2` directory in your local repository.
    - Create a directory named `Part2`.
    - Navigate to the `Part2` directory.
    - Generate a new Spring Boot project with  https://start.spring.io using the following configurations:
        - Project: Gradle-Groovy
        - Language: Java
        - Spring Boot: 3.2.4
        - Project Metadata:
            - Group: com.greglturnquist
            - Artifact: react-and-spring-data-rest-basic
            - Name: react-and-spring-data-rest-basic
            - Description: Demo project for Spring Boot
            - Package Name: com.greglturnquist.payroll
        - Packaging: Jar
        - Java: 17
        - Dependencies:
            - Rest Repositories
            - Thymeleaf
            - Spring Data JPA
            - H2 Database
    - Extract the contents of the generated zip file from `https://start.spring.io` into the `CA2/Part2/` folder. This provides the basic structure of a Spring application using Gradle.

## Gradle Configuration

1. **Delete src Folder:**

    ```
    rm -rf src
    ```

   Delete the `src` folder as it will be replaced with code from the basic tutorial.

2. **Copy Code from Basic Tutorial:**

    - Copy the `src` folder and all its subfolders from the basic tutorial into the `CA2/Part2/` folder.
    - Also, copy the `webpack.config.js` and `package.json` files.
   - Change the import in test  class from javax to jakarta.

3. **Update build.gradle:**

   Update the `build.gradle` file with the following configurations:

    ```
    plugins {
        id "org.siouan.frontend-jdk17" version "8.0.0"
    }

    frontend {
        nodeVersion = "16.20.2"
        assembleScript = "run build"
        cleanScript = "run clean"
        checkScript = "run check"
    }
    ```

4. **Update package.json:**

   Update the `package.json` file with the following scripts:

    ```
    "scripts": {
        "webpack": "webpack",
        "build": "npm run webpack",
        "check": "echo Checking frontend",
        "clean": "echo Cleaning frontend",
        "lint": "echo Linting frontend",
        "test": "echo Testing frontend"
    }
    ```

## Building and Running the Application

1. **Execute Gradle Tasks:**

   Execute the following command to build the project:

    ```
    ./gradlew build
    ```

2. **Run the Application:**

   Start the application using the following command:

    ```
    ./gradlew bootRun
    ```

## Additional Gradle Tasks

1. **Copy Generated JAR:**

   Add a task to copy the generated JAR to a folder named `dist` located at the project root level.
 ```
    task copyJar(type: Copy) {
        from 'build/libs'
        into 'dist'
        include '*.jar'
    }
 ```

Ensure this task is executed automatically by Gradle after the `build` task.

1. **Delete Webpack Files:**

   Add a task to delete all files generated by webpack (usually located at `src/main/resources/static/built/`). Ensure this task is executed automatically by Gradle before the `clean` task.
```
task deleteWebpack(type: Delete) {
    delete 'src/main/resources/static/built'
}
```

## Alternative Solutions with Ant 

# Ant Configuration

This project aims to convert the basic version of the Tutorial application to use Apache Ant as the build tool instead of Gradle.

## Ant Installation

1. Install Ant using marketplace or download the latest version from the official website: https://ant.apache.org/bindownload.cgi
2. Add Ant to the PATH environment variable.
3. Verify the installation by running the following command:

    ```
    ant -version
    ```

    The output should display the version of Ant installed on your system.
## Branch Creation and Initial Setup    

1. **Create Branch:**

   Create a new branch named `tut-basic-ant` in your repository and switch to this branch.

    ```
    git checkout -b tut-basic-ant
    ```
2. Copy the contents of the basic tutorial into the `CA2/Part2/` folder.

## Ant Configuration

create a build.xml file in the root of the project with the following content:
```
<project name="SpringBootReactAnt" default="build">

    <!-- Define properties -->
    <property name="dist.dir" value="${basedir}/dist"/>

    <!-- Define dependencies -->
    <!-- Define project structure -->

    <!-- Define tasks -->
    <target name="build" depends="compile, test, package, copyJar"/>

    <!-- Compile Java Code task -->
    <target name="compile">
        <!-- Add your compile task here -->
    </target>

    <!-- Run Tests task -->
    <target name="test">
        <!-- Add your test task here -->
    </target>

    <!-- Package Application task -->
    <target name="package">
        <!-- Add your package task here -->
    </target>

    <!-- Copy Generated JAR task -->
    <target name="copyJar">
        <copy file="build/libs/your_application.jar" todir="${dist.dir}"/>
    </target>

    <!-- Delete Webpack Files task -->
    <target name="clean" depends="deleteWebpack">
        <!-- Add your clean task here -->
    </target>

    <target name="deleteWebpack">
        <delete dir="${basedir}/src/main/resources/static/built"/>
    </target>

</project>
```
## Building and Running the Application

1. **Execute Ant Tasks:**

   Execute the following command to build the project:
    ```
    ant build
    ```
2. **Run the Application:**

3. Start the application using the following command:

    ```
    java -jar dist/your_application.jar
    ```
## Additional Ant Tasks

1. **Copy Generated JAR:**

   Add a task to copy the generated JAR to a folder named `dist` located at the project root level.
 ```
    <target name="copyJar">
        <copy file="build/libs/your_application.jar" todir="${dist.dir}"/>
    </target>
 ```

Ensure this task is executed automatically by Ant after the `build` task.

1. **Delete Webpack Files:**

   Add a task to delete all files generated by webpack (usually located at `src/main/resources/static/built/`). 
Ensure this task is executed automatically by Ant before the `clean` task.
```
<target name="deleteWebpack">
    <delete dir="${basedir}/src/main/resources/static/built"/>
</target>
```
## Conclusion
Was found Ant as a good alternative solution to Gradle. 
It is a powerful build tool that can be used to automate the build process of a project. 
By configuring Ant tasks in the build.xml file, you can define the steps required to compile, test, package, and deploy your application. 